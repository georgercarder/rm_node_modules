#!/bin/sh

DIR=$1

if [ ! -d "$DIR" ]
then
	echo "first param must be directory"
	exit 1
fi

SEEKING=1

while [ $SEEKING -eq 1 ]
do
	res=$(ls -R $DIR | grep :$ | grep node_modules | grep -v global_node_modules | head -1 | sed s/:$//g)
	#ignores global_node_modules
	echo $res
	if [ -z "$res" ]
	then
		SEEKING=0 #breaks
	else
		rm -r $res
		#debugging
	fi
done
